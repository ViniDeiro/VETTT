<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Pintura - VetTooth</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .color-palette {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #ddd;
        }
        .color-option.selected {
            border: 3px solid #333;
        }
        .tools {
            margin: 20px 0;
        }
        .tool-btn {
            padding: 10px 15px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background: #007bff;
            color: white;
        }
        .tool-btn.active {
            background: #dc3545;
        }
        .svg-container {
            border: 2px solid #ddd;
            padding: 20px;
            border-radius: 10px;
            background: white;
        }
        .paintable {
            transition: all 0.2s ease !important;
        }
        .paintable:hover {
            stroke-width: 3px !important;
            filter: drop-shadow(0 0 3px rgba(0,0,0,0.3)) !important;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ü¶∑ Teste de Pintura VetTooth</h1>
        
        <div class="color-palette">
            <div class="color-option selected" style="background-color: #FF6B6B;" data-color="#FF6B6B"></div>
            <div class="color-option" style="background-color: #4ECDC4;" data-color="#4ECDC4"></div>
            <div class="color-option" style="background-color: #45B7D1;" data-color="#45B7D1"></div>
            <div class="color-option" style="background-color: #96CEB4;" data-color="#96CEB4"></div>
            <div class="color-option" style="background-color: #FFEAA7;" data-color="#FFEAA7"></div>
        </div>
        
        <div class="tools">
            <button class="tool-btn" id="eraser-btn">üßΩ Borracha</button>
            <button class="tool-btn" id="clear-btn">üóëÔ∏è Limpar</button>
        </div>
        
        <div class="svg-container">
            <svg width="400" height="200" viewBox="0 0 400 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                <!-- Dente 1 -->
                <path d="M50 150 Q80 120 110 150 Q80 180 50 150" fill="#D9D9D9" stroke="black" stroke-width="2"/>
                <!-- Dente 2 -->
                <path d="M120 140 Q150 110 180 140 Q150 170 120 140" fill="#D9D9D9" stroke="black" stroke-width="2"/>
                <!-- Dente 3 -->
                <path d="M190 135 Q220 105 250 135 Q220 165 190 135" fill="#D9D9D9" stroke="black" stroke-width="2"/>
                <!-- Dente 4 -->
                <path d="M260 140 Q290 110 320 140 Q290 170 260 140" fill="#D9D9D9" stroke="black" stroke-width="2"/>
                <!-- Dente 5 -->
                <path d="M330 150 Q360 120 390 150 Q360 180 330 150" fill="#D9D9D9" stroke="black" stroke-width="2"/>
                
                <!-- N√∫meros dos dentes -->
                <text x="80" y="100" text-anchor="middle" font-family="Arial" font-size="12" fill="black">1</text>
                <text x="150" y="90" text-anchor="middle" font-family="Arial" font-size="12" fill="black">2</text>
                <text x="220" y="85" text-anchor="middle" font-family="Arial" font-size="12" fill="black">3</text>
                <text x="290" y="90" text-anchor="middle" font-family="Arial" font-size="12" fill="black">4</text>
                <text x="360" y="100" text-anchor="middle" font-family="Arial" font-size="12" fill="black">5</text>
            </svg>
        </div>
        
        <div style="margin-top: 20px;">
            <h3>Instru√ß√µes:</h3>
            <ul>
                <li>Clique em uma cor para selecion√°-la</li>
                <li>Clique nos dentes (√°reas cinzas) para pint√°-los</li>
                <li>Use a borracha para apagar</li>
                <li>Use "Limpar" para remover todas as cores</li>
            </ul>
        </div>
    </div>

    <script>
        class TestPainter {
            constructor() {
                this.currentColor = '#FF6B6B';
                this.isEraserMode = false;
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.setupSvgInteraction();
            }

            setupEventListeners() {
                // Cores
                document.querySelectorAll('.color-option').forEach(option => {
                    option.addEventListener('click', (e) => {
                        const color = e.target.getAttribute('data-color');
                        this.selectColor(color);
                    });
                });

                // Ferramentas
                document.getElementById('eraser-btn').addEventListener('click', () => {
                    this.toggleEraser();
                });

                document.getElementById('clear-btn').addEventListener('click', () => {
                    this.clearAll();
                });
            }

            setupSvgInteraction() {
                const svg = document.querySelector('svg');
                const allPaths = svg.querySelectorAll('path');
                
                allPaths.forEach(element => {
                    const currentFill = element.getAttribute('fill');
                    
                    if (currentFill === '#D9D9D9') {
                        element.style.cursor = 'pointer';
                        element.classList.add('paintable');
                        
                        // Garantir que o elemento pode receber cliques em toda sua √°rea
                        element.style.pointerEvents = 'all';
                        
                        element.addEventListener('click', (e) => {
                            e.stopPropagation();
                            this.paintElement(e.target);
                        });

                        element.addEventListener('mouseenter', (e) => {
                            if (!this.isEraserMode) {
                                e.target.style.filter = 'brightness(1.2)';
                            } else {
                                e.target.style.filter = 'brightness(0.8)';
                            }
                        });

                        element.addEventListener('mouseleave', (e) => {
                            e.target.style.filter = '';
                        });
                    }
                });
                
                console.log(`Elementos pint√°veis encontrados: ${document.querySelectorAll('.paintable').length}`);
            }

            paintElement(element) {
                if (this.isEraserMode) {
                    element.setAttribute('fill', '#D9D9D9');
                } else {
                    element.setAttribute('fill', this.currentColor);
                }
                
                element.style.transition = 'fill 0.3s ease';
                
                // Feedback visual
                element.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    element.style.transform = '';
                }, 150);
            }

            selectColor(color) {
                this.currentColor = color;
                this.isEraserMode = false;
                
                document.querySelectorAll('.color-option').forEach(option => {
                    option.classList.remove('selected');
                });
                
                document.querySelector(`[data-color="${color}"]`).classList.add('selected');
                document.getElementById('eraser-btn').classList.remove('active');
                document.getElementById('eraser-btn').textContent = 'üßΩ Borracha';
            }

            toggleEraser() {
                this.isEraserMode = !this.isEraserMode;
                const eraserBtn = document.getElementById('eraser-btn');
                
                if (this.isEraserMode) {
                    eraserBtn.classList.add('active');
                    eraserBtn.textContent = 'üé® Pintar';
                    document.querySelectorAll('.color-option').forEach(option => {
                        option.classList.remove('selected');
                    });
                } else {
                    eraserBtn.classList.remove('active');
                    eraserBtn.textContent = 'üßΩ Borracha';
                }
            }

            clearAll() {
                document.querySelectorAll('.paintable').forEach(element => {
                    element.setAttribute('fill', '#D9D9D9');
                });
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            new TestPainter();
        });
    </script>
</body>
</html>